<!DOCTYPE html>
<html lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">

    <!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]-->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no">
<meta name="author" content="陈楚吟">


    
    


<meta name="description" content="将学习技术点汇总">
<meta name="keywords" content="write myBlog">
<meta property="og:type" content="website">
<meta property="og:title" content="Nikita">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Nikita">
<meta property="og:description" content="将学习技术点汇总">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Nikita">
<meta name="twitter:description" content="将学习技术点汇总">

<link rel="apple-touch-icon" href="/apple-touch-icon.png">


    <link rel="alternate" href="/atom.xml" title="Nikita" type="application/atom+xml">



    <link rel="shortcut icon" href="/favicon.png">



    <link href="//cdn.bootcss.com/animate.css/3.5.1/animate.min.css" rel="stylesheet">



    <link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet">



    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-minimal.css" rel="stylesheet">


<link rel="stylesheet" href="/css/style.css">


    <style> .article { opacity: 0;} </style>


<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>Nikita</title>

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

<script>
    var yiliaConfig = {
        fancybox: true,
        animate: true,
        isHome: true,
        isPost: false,
        isArchive: false,
        isTag: false,
        isCategory: false,
        fancybox_js: "//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: 
    }
</script>


    <script> yiliaConfig.jquery_ui = [false]; </script>



    <script> yiliaConfig.rootUrl = "\/";</script>






</head></html>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="/img/avatar.png" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">陈楚吟</a></h1>
        </hgroup>

        
        <p class="header-subtitle">不负韶华</p>
        

        


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">主页</a></li>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                            <li><a href="/tags/">标签云</a></li>
                        
                            <li><a href="/about/">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" href="mailto:123@123.com" title="Email"></a>
                            
                                <a class="fa GitHub" href="#" title="GitHub"></a>
                            
                                <a class="fa RSS" href="/atom.xml" title="RSS"></a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a class="main-nav-link switch-friends-link" href="https://hexo.io">Hexo</a>
                    
                      <a class="main-nav-link switch-friends-link" href="https://pages.github.com/">GitHub</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://moxfive.xyz/">MOxFIVE</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">专注于前端</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">陈楚吟</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="/img/avatar.png" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">陈楚吟</a></h1>
            </hgroup>
            
            <p class="header-subtitle">不负韶华</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">主页</a></li>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/tags/">标签云</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" target="_blank" href="mailto:123@123.com" title="Email"></a>
                            
                                <a class="fa GitHub" target="_blank" href="#" title="GitHub"></a>
                            
                                <a class="fa RSS" target="_blank" href="/atom.xml" title="RSS"></a>
                            
                        </ul>
            </nav>
        </header>                
    </div>
    <link class="menu-list" tags="标签" friends="友情链接" about="关于我"/>
</nav>
      <div class="body-wrap">
  
    <article id="post-http的学习" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/04/06/http的学习/" class="article-date">
      <time datetime="2020-04-06T02:47:35.000Z" itemprop="datePublished">2020-04-06</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/04/06/http的学习/">http的学习</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h4 id="HTTP无状态协议"><a href="#HTTP无状态协议" class="headerlink" title="HTTP无状态协议"></a>HTTP无状态协议</h4><p>HTTP无状态协议，是指协议对于事务处理没有记忆能力。缺少状态意味着如果后续处理需要前面的信息，则它必须重传，这样可能导致每次连接传送的数据量增大。另一方面，在服务器不需要先前信息时它的应答就较快。</p>
<p>客户端与服务器进行动态交互的Web应用程序出现之后，HTTP无状态的特性严重阻碍了这些应用程序的实现，毕竟交互是需要承前启后的，简单的购物车程序也要知道用户到底在之前选择了什么商品。于是，两种用于保持HTTP连接状态的技术就应运而生了，一个是<a href="https://baike.baidu.com/item/Cookie" target="_blank" rel="noopener">Cookie</a>，而另一个则是<a href="https://baike.baidu.com/item/Session" target="_blank" rel="noopener">Session</a>。HTTP本身是一个无状态的<a href="https://baike.baidu.com/item/连接协议" target="_blank" rel="noopener">连接协议</a>，为了支持客户端与服务器之间的交互，我们就需要通过不同的技术为交互存储状态，而这些不同的技术就是Cookie和Session了。</p>
<p>Cookie是通过客户端保持状态的<a href="https://baike.baidu.com/item/解决/32786" target="_blank" rel="noopener">解决</a>方案。从定义上来说，Cookie就是由服务器发给客户端的特殊信息，而这些信息以文本文件的方式存放在客户端，然后客户端每次向服务器发送请求的时候都会带上这些特殊的信息。让我们说得更具体一些：当用户使用浏览器访问一个支持<a href="https://baike.baidu.com/item/Cookie/1119" target="_blank" rel="noopener">Cookie</a>的网站的时候，用户会提供包括用户名在内的个人信息并且提交至服务器；接着，服务器在向客户端回传相应的<a href="https://baike.baidu.com/item/超文本" target="_blank" rel="noopener">超文本</a>的同时也会发回这些个人信息，当然这些信息并不是存放在HTTP响应体（Response Body）中的，而是存放于HTTP响应头（Response Header）；当客户端浏览器接收到来自服务器的响应之后，浏览器会将这些信息存放在一个统一的位置，对于<a href="https://baike.baidu.com/item/Windows操作系统/852149" target="_blank" rel="noopener">Windows操作系统</a>而言，我们可以从： [<a href="https://baike.baidu.com/item/系统盘" target="_blank" rel="noopener">系统盘</a>]:\Documents and Settings[用户名]\Cookies目录中找到存储的Cookie；自此，客户端再向服务器发送请求的时候，都会把相应的<a href="https://baike.baidu.com/item/Cookie/1119" target="_blank" rel="noopener">Cookie</a>再次发回至服务器。而这次，Cookie信息则存放在<a href="https://baike.baidu.com/item/HTTP请求头/6623287" target="_blank" rel="noopener">HTTP请求头</a>（Request Header）了。</p>
<p>有了Cookie这样的技术实现，服务器在接收到来自客户端浏览器的请求之后，就能够通过分析存放于请求头的Cookie得到客户端特有的信息，从而动态生成与该客户端相对应的内容。通常，我们可以从很多网站的登录界面中看到“请记住我”这样的选项，如果你勾选了它之后再登录，那么在下一次访问该网站的时候就不需要进行重复而繁琐的登录动作了，而这个功能就是通过Cookie实现的。</p>
<p>与Cookie相对的一个解决方案是Session，它是通过服务器来保持状态的。由于<a href="https://baike.baidu.com/item/Session/479100" target="_blank" rel="noopener">Session</a>这个词汇包含的语义很多，因此需要在这里明确一下 Session的含义。首先，我们通常都会把Session翻译成会话，因此我们可以把客户端浏览器与服务器之间一系列交互的动作称为一个  Session。从这个语义出发，我们会提到Session持续的时间，会提到在Session过程中进行了什么操作等等；其次，Session指的是服务器端为客户端所开辟的存储空间，在其中保存的信息就是用于保持状态。从这个语义出发，我们则会提到往Session中存放什么内容，如何根据键值从 Session中获取匹配的内容等。</p>
<p>要使用Session，第一步当然是创建Session了。那么Session在何时创建呢？当然还是在服务器端程序运行的过程中创建的，不同语言实现的应用程序有不同创建Session的方法，而在<a href="https://baike.baidu.com/item/Java/85979" target="_blank" rel="noopener">Java</a>中是通过调用HttpServletRequest的getSession方法（使用true作为参数）创建的。在创建了<a href="https://baike.baidu.com/item/Session/479100" target="_blank" rel="noopener">Session</a>的同时，服务器会为该Session生成唯一的Session id，而这个Session  id在随后的请求中会被用来重新获得已经创建的Session；在Session被创建之后，就可以调用Session相关的方法往Session中增加内容了，而这些内容只会保存在服务器中，发到客户端的只有Session id；当客户端再次发送请求的时候，会将这个Session id带上，服务器接受到请求之后就会依据Session  id找到相应的Session，从而再次使用之。正是这样一个过程，用户的状态也就得以保持了。</p>
<p>综上所述，HTTP本身是一个无状态的<a href="https://baike.baidu.com/item/连接协议/7768217" target="_blank" rel="noopener">连接协议</a>，为了支持客户端与服务器之间的交互，我们就需要通过不同的技术为交互存储状态，而这些不同的技术就是<a href="https://baike.baidu.com/item/Cookie/1119" target="_blank" rel="noopener">Cookie</a>和Session了。</p>
<h4 id="cookie与session区别"><a href="#cookie与session区别" class="headerlink" title="cookie与session区别"></a>cookie与session区别</h4><p>​    1. cookie数据存放在客户的浏览器上，session数据放在服务器上。<br>​    2. cookie不是很安全，别人可以分析存放在本地的COOKIE并进行COOKIE欺骗。考虑到安全应当使用session。<br>​    3. session会在一定时间内保存在服务器上。当访问增多，会比较占用你服务器的性能<br>​       考虑到减轻服务器性能方面，应当使用COOKIE。<br>​    4. 单个cookie保存的数据不能超过4K，很多浏览器都限制一个站点最多保存20个cookie。</p>
<h4 id="cookie的优缺点"><a href="#cookie的优缺点" class="headerlink" title="cookie的优缺点"></a>cookie的优缺点</h4><h6 id="优点："><a href="#优点：" class="headerlink" title="优点："></a>优点：</h6><p>​        1. 通过良好的编程习惯，控制保存在cookie中的session对象的大小。<br>​        2. 通过加密和安全传输技术，减少cookie被破解的可能性。<br>​        3. 只在cookie中存放不敏感数据，即使被盗也不会有重大损失。<br>​        4. 控制cookie的生命周期，使之不会永远有效。偷盗者可能拿到一个过期的cookie。<br>​        5.解决无状态问题。</p>
<h6 id="缺点："><a href="#缺点：" class="headerlink" title="缺点："></a>缺点：</h6><p>​        1. cookie数量和长度的限制。每个域名最多有20条cookie，每个cookie长度不超过4KB，否则会被截掉。<br>​        2. 安全性问题。如果cookie被人拦截，那人就可以获取session信息。即使加密也于事无补，因为拦截者并不需要知道cookie的信息，他只要原样转发cookie就可达到目的。<br>​        3. 有些状态不可能保存在客户端。如，为了防止重复提交表单，我们需要在服务器保存一个计数器。如果我们把这个计数器保存在客户端就起不到任何作用。</p>
<h4 id="常用的HTTP方法"><a href="#常用的HTTP方法" class="headerlink" title="常用的HTTP方法"></a>常用的HTTP方法</h4><ul>
<li>GET： 用于请求访问已经被URI（统一资源标识符）识别的资源，可以通过URL传参给服务器</li>
<li>POST：用于传输信息给服务器，主要功能与GET方法类似，但一般推荐使用POST方式。</li>
<li>PUT： 传输文件，报文主体中包含文件内容，保存到对应URI位置。</li>
<li>HEAD： 获得报文首部，与GET方法类似，只是不返回报文主体，一般用于验证URI是否有效。</li>
<li>DELETE：删除文件，与PUT方法相反，删除对应URI位置的文件。</li>
<li>OPTIONS：查询相应URI支持的HTTP方法。</li>
</ul>
<h4 id="URL和URI区别"><a href="#URL和URI区别" class="headerlink" title="URL和URI区别"></a>URL和URI区别</h4><p><strong>URI，是uniform resource identifier，统一资源标识符，用来唯一的标识一个资源。</strong></p>
<ul>
<li>Web上可用的每种资源如HTML文档、图像、视频片段、程序等都是一个来URI来定位的</li>
<li>URI一般由三部组成：</li>
<li>①访问资源的命名机制</li>
<li>②存放资源的主机名</li>
<li>③资源自身的名称，由路径表示，着重强调于资源。</li>
</ul>
<p><strong>URL是uniform resource locator，统一资源定位器，它是一种具体的URI，即URL可以用来标识一个资源，而且还指明了如何locate这个资源。</strong></p>
<ul>
<li>URL是Internet上用来描述信息资源的字符串，主要用在各种WWW客户程序和服务器程序上，特别是著名的Mosaic。</li>
<li>采用URL可以用一种统一的格式来描述各种信息资源，包括文件、服务器的地址和目录等。URL一般由三部组成：</li>
<li>①协议(或称为服务方式)</li>
<li>②存有该资源的主机IP地址(有时也包括端口号)</li>
<li>③主机资源的具体地址。如目录和文件名等</li>
</ul>
<h4 id="HTTP请求报文与响应报文格式"><a href="#HTTP请求报文与响应报文格式" class="headerlink" title="HTTP请求报文与响应报文格式"></a>HTTP请求报文与响应报文格式</h4><h6 id="请求报文"><a href="#请求报文" class="headerlink" title="请求报文"></a>请求报文</h6><p><img src="https://img-blog.csdn.net/20180213114347309" alt="img"></p>
<ul>
<li>a、请求行：包含请求方法、URI、HTTP版本信息</li>
<li>b、请求首部字段</li>
<li>c、请求内容实体</li>
<li>d、空行</li>
</ul>
<h6 id="响应报文"><a href="#响应报文" class="headerlink" title="响应报文"></a>响应报文</h6><h6 id><a href="#" class="headerlink" title></a><img src="https://img-blog.csdn.net/20180213114358760" alt="img"></h6><ul>
<li>a、状态行：包含HTTP版本、状态码、状态码的原因短语</li>
<li>b、响应首部字段</li>
<li>c、响应内容实体</li>
<li>d、空行</li>
</ul>
<h6 id="常见的首部"><a href="#常见的首部" class="headerlink" title="常见的首部"></a>常见的首部</h6><ul>
<li><strong>通用首部字段（请求报文与响应报文都会使用的首部字段）</strong><ul>
<li>Date：创建报文时间</li>
<li>Connection：连接的管理</li>
<li>Cache-Control：缓存的控制</li>
<li>Transfer-Encoding：报文主体的传输编码方式</li>
</ul>
</li>
<li><strong>请求首部字段（请求报文会使用的首部字段）</strong><ul>
<li>Host：请求资源所在服务器</li>
<li>Accept：可处理的媒体类型</li>
<li>Accept-Charset：可接收的字符集</li>
<li>Accept-Encoding：可接受的内容编码</li>
<li>Accept-Language：可接受的自然语言</li>
</ul>
</li>
<li><strong>响应首部字段（响应报文会使用的首部字段）</strong><ul>
<li>Accept-Ranges：可接受的字节范围</li>
<li>Location：令客户端重新定向到的URI</li>
<li>Server：HTTP服务器的安装信息</li>
</ul>
</li>
<li><strong>实体首部字段（请求报文与响应报文的的实体部分使用的首部字段）</strong><ul>
<li>Allow：资源可支持的HTTP方法</li>
<li>Content-Type：实体主类的类型</li>
<li>Content-Encoding：实体主体适用的编码方式</li>
<li>Content-Language：实体主体的自然语言</li>
<li>Content-Length：实体主体的的字节数</li>
<li>Content-Range：实体主体的位置范围，一般用于发出部分请求时使用</li>
</ul>
</li>
</ul>
<h4 id="HTTPS工作原理"><a href="#HTTPS工作原理" class="headerlink" title="HTTPS工作原理"></a>HTTPS工作原理</h4><ul>
<li>首先HTTP请求服务端生成证书，客户端对证书的有效期、合法性、域名是否与请求的域名一致、证书的公钥（RSA加密）等进行校验；</li>
<li>客户端如果校验通过后，就根据证书的公钥的有效， 生成随机数，随机数使用公钥进行加密（RSA加密）；</li>
<li>消息体产生的后，对它的摘要进行MD5（或者SHA1）算法加密，此时就得到了RSA签名；</li>
<li>发送给服务端，此时只有服务端（RSA私钥）能解密。</li>
<li>解密得到的随机数，再用AES加密，作为密钥（此时的密钥只有客户端和服务端知道）。</li>
</ul>
<h4 id="一次完整的HTTP请求所经历的7个步骤"><a href="#一次完整的HTTP请求所经历的7个步骤" class="headerlink" title="一次完整的HTTP请求所经历的7个步骤"></a>一次完整的HTTP请求所经历的7个步骤</h4><p>HTTP通信机制是在一次完整的HTTP通信过程中，Web浏览器与Web服务器之间将完成下列7个步骤：</p>
<ul>
<li>建立TCP连接</li>
</ul>
<p>在HTTP工作开始之前，Web浏览器首先要通过网络与Web服务器建立连接，该连接是通过TCP来完成的，该协议与IP协议共同构建 Internet，即著名的TCP/IP协议族，因此Internet又被称作是TCP/IP网络。<strong>HTTP是比TCP更高层次的应用层协议，根据规则， 只有低层协议建立之后才能进行更层协议的连接，因此，首先要建立TCP连接，一般TCP连接的端口号是80。</strong></p>
<ul>
<li>Web浏览器向Web服务器发送请求行</li>
</ul>
<p>一旦建立了TCP连接，<strong>Web浏览器就会向Web服务器发送请求命令</strong>。例如：GET /sample/hello.js HTTP/1.1。</p>
<ul>
<li>Web浏览器发送请求头<ul>
<li>浏览器发送其请求命令之后，还要以头信息的形式向Web服务器发送一些别的信息，<strong>之后浏览器发送了一空白行来通知服务器</strong>，它已经结束了该头信息的发送。</li>
</ul>
</li>
<li>Web服务器应答<ul>
<li>客户机向服务器发出请求后，服务器会客户机回送应答， <strong>HTTP/1.1 200 OK ，应答的第一部分是协议的版本号和应答状态码。</strong></li>
</ul>
</li>
<li>Web服务器发送应答头<ul>
<li>正如客户端会随同请求发送关于自身的信息一样，服务器也会随同应答向用户发送关于它自己的数据及被请求的文档。</li>
</ul>
</li>
<li>Web服务器向浏览器发送数据<ul>
<li>Web服务器向浏览器发送头信息后，它会发送一个空白行来表示头信息的发送到此为结束，接着，<strong>它就以Content-Type应答头信息所描述的格式发送用户所请求的实际数据</strong>。</li>
</ul>
</li>
<li>Web服务器关闭TCP连接<ul>
<li>一般情况下，一旦Web服务器向浏览器发送了请求数据，它就要关闭TCP连接，然后如果浏览器或者服务器在其头信息加入了这行代码：</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Connection:keep-alive</span><br></pre></td></tr></table></figure>

<p>TCP连接在发送后将仍然保持打开状态，于是，浏览器可以继续通过相同的连接发送请求。保持连接节省了为每个请求建立新连接所需的时间，还节约了网络带宽。</p>
<p>建立TCP连接-&gt;发送请求行-&gt;发送请求头-&gt;（到达服务器）发送状态行-&gt;发送响应头-&gt;发送响应数据-&gt;断TCP连接</p>
<h4 id="常见的HTTP相应状态码"><a href="#常见的HTTP相应状态码" class="headerlink" title="常见的HTTP相应状态码"></a>常见的HTTP相应状态码</h4><ul>
<li>200：请求被正常处理</li>
<li>204：请求被受理但没有资源可以返回</li>
<li>206：客户端只是请求资源的一部分，服务器只对请求的部分资源执行GET方法，相应报文中通过Content-Range指定范围的资源。</li>
<li>301：永久性重定向</li>
<li>302：临时重定向</li>
<li>303：与302状态码有相似功能，只是它希望客户端在请求一个URI的时候，能通过GET方法重定向到另一个URI上</li>
<li>304：发送附带条件的请求时，条件不满足时返回，与重定向无关</li>
<li>307：临时重定向，与302类似，只是强制要求使用POST方法</li>
<li>400：请求报文语法有误，服务器无法识别</li>
<li>401：请求需要认证</li>
<li>403：请求的对应资源禁止被访问</li>
<li>404：服务器无法找到对应资源</li>
<li>500：服务器内部错误</li>
<li>503：服务器正忙</li>
</ul>
<h4 id="HTTP1-1版本新特性"><a href="#HTTP1-1版本新特性" class="headerlink" title="HTTP1.1版本新特性"></a>HTTP1.1版本新特性</h4><ul>
<li>a、<strong>默认持久连接节省通信量</strong>，只要客户端服务端任意一端没有明确提出断开TCP连接，就一直保持连接，可以发送多次HTTP请求</li>
<li>b、<strong>管线化，客户端可以同时发出多个HTTP请求，而不用一个个等待响应</strong></li>
<li>c、<strong>断点续传</strong><ul>
<li><strong>实际上就是利用HTTP消息头使用分块传输编码，将实体主体分块传输。</strong></li>
</ul>
</li>
</ul>
<h6 id="HTTP优化方案"><a href="#HTTP优化方案" class="headerlink" title="HTTP优化方案"></a>HTTP优化方案</h6><ul>
<li><strong>TCP复用：TCP连接复用是将多个客户端的HTTP请求复用到一个服务器端TCP连接上，而HTTP复用则是一个客户端的多个HTTP请求通过一个TCP连接进行处理。前者是负载均衡设备的独特功能；而后者是HTTP 1.1协议所支持的新功能，目前被大多数浏览器所支持。</strong></li>
<li><strong>内容缓存：将经常用到的内容进行缓存起来，那么客户端就可以直接在内存中获取相应的数据了。</strong></li>
<li><strong>压缩：将文本数据进行压缩，减少带宽</strong></li>
<li><strong>SSL加速（SSL Acceleration）：使用SSL协议对HTTP协议进行加密，在通道内加密并加速</strong></li>
<li><strong>TCP缓冲：通过采用TCP缓冲技术，可以提高服务器端响应时间和处理效率，减少由于通信链路问题给服务器造成的连接负担。</strong></li>
</ul>
<h4 id="Cache-control缓存控制"><a href="#Cache-control缓存控制" class="headerlink" title="Cache-control缓存控制"></a>Cache-control缓存控制</h4><p>网页的缓存是由HTTP消息头中的“Cache-control”来控制的，常见的取值有private、no-cache、max-age、must-revalidate等，默认为private。<br>其作用根据不同的重新浏览方式分为以下几种情况：<br>（1）  打开新窗口如果指定cache-control的值为private、no-cache、must-revalidate，那么打开新窗口访问时都会重新访问服务器。而如果指定了max-age值，那么在此值内的时间里就不会重新访问服务器，例如： Cache-control: max-age=5 表示当访问此网页后的5秒内再次访问不会去服务器。<br>（2） 在地址栏回车如果值为private或must-revalidate（和网上说的不一样），则只有第一次访问时会访问服务器，以后就不再访问。如果值为no-cache，那么每次都会访问。如果值为max-age，则在过期之前不会重复访问。<br>（3） 按后退按扭如果值为private、must-revalidate、max-age，则不会重访问，而如果为no-cache，则每次都重复访问。<br>（4） 按刷新按扭无论为何值，都会重复访问  当指定Cache-control值为“no-cache”时，访问此页面不会在Internet临时文章夹留下页面备份。另外，通过指定“Expires”值也会影响到缓存。例如，指定Expires值为一个早已过去的时间，那么访问此网时若重复在地址栏按回车，那么每次都会重复访问： Expires: Fri, 31 Dec 1999 16:00:00 GMT  在ASP中，可以通过Response对象的Expires、ExpiresAbsolute属性控制Expires值；通过Response对象的CacheControl属性控制Cache-control的值，例如： Response.ExpiresAbsolute = #2000-1-1# ‘  指定绝对的过期时间，这个时间用的是服务器当地时间，会被自动转换为GMT时间 Response.Expires = 20 ‘  指定相对的过期时间，以分钟为单位，表示从当前时间起过多少分钟过期。 Response.CacheControl = “no-cache”  Expires值是可以通过在Internet临时文件夹中查看临时文件的属性看到的。                                    </p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-HTML5基础下-陈楚吟" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/03/26/HTML5基础下-陈楚吟/" class="article-date">
      <time datetime="2020-03-26T03:25:59.000Z" itemprop="datePublished">2020-03-26</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/03/26/HTML5基础下-陈楚吟/">HTML5基础下--陈楚吟</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
    <title>拖放事件</title>
    <style type="text/css">
        #container{
            width:650px;height:300px;border:1px solid #333;
        }
    </style>
    <script>
    function allowDrop(eve){
            eve.preventDefault();
    }
    function drag(eve){
            eve.dataTransfer.setData("Text",eve.target.id);
    }
    function drop(eve){
                eve.preventDefault();
                var data=eve.dataTransfer.getData("Text");
                eve.target.appendChild(document.getElementById(data));
    }
    </script>
</head>
<body>
    <div id="container" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
    <img id="img1" src="https://img11.360buyimg.com/mobilecms/s280x280_jfs/t1/21802/16/14332/101394/5ca5a6feEd942df02/e343cc2669340fe0.png!q90.webp" width="600px" draggable="true" ondragstart="drag(event)">
</body>
/*将元素设为可拖动draggable="true"
拖动时调用函数，去除默认处理方式调用方法 eve.preventDefault()
移到边框时去除默认处理方式，设为允许放置
通过 dataTransfer.getData("Text") 方法获得被拖的数据。该方法将返回在 setData() 方法中设置为相同类型的任何数据。
被拖数据是被拖元素的 id ("img1")
把被拖元素追加到放置元素（目标元素）中
*/


<h2 id="一-元素细节"><a href="#一-元素细节" class="headerlink" title="一 . 元素细节"></a>一 . 元素细节</h2><h5 id="1-a链接标签"><a href="#1-a链接标签" class="headerlink" title="1.a链接标签"></a>1.a链接标签</h5><p><a href="指定链接的目标"></a></p>
<p>如果没有href属性，则不能使用hreflang，media，rel，target，type属性且该标签仅仅是一个占位符；通常在当前浏览器窗口显示被链接页面，除非规定了其他target</p>
<p><a href="#id名">可链接到指定id位置</a></p>
<h5 id="2-area标签"><a href="#2-area标签" class="headerlink" title="2.area标签"></a>2.area标签</h5><p>能够在所需图像上设置作用区域，使用者可通过点击该作用区域来跳转到相应的页面</p>
<h5 id="3-abbr标签"><a href="#3-abbr标签" class="headerlink" title="3.abbr标签"></a>3.abbr标签</h5><p>用来表示一个缩略词或首字母缩略词，通过对缩略词语进行标记，能为浏览器，拼写检查程序，翻译系统以及搜索引擎分度器提供有用的信息The <abbr title="World Health Organization">    WHO</abbr> was founded in 1948.</p>
<h5 id="4-article标签，aside标签"><a href="#4-article标签，aside标签" class="headerlink" title="4.article标签，aside标签"></a>4.article标签，aside标签</h5><p>article标签定义独立的内容，定义的内容必须是有意义的且必须独立于文档的其他内容。论坛帖子，博客文章，新闻故事，评论都是其潜在来源</p>
<p>aside标签用来表示跟当前页面的内容没有很大关系的部分，通常显示侧边栏和补充关系的内容，如目录，索引等。<strong>注意：</strong>不要用aside元素去标记括号内的文本，因为这种类型的文本被认为是其内容流的一部分。</p>
<h5 id="5-address标签"><a href="#5-address标签" class="headerlink" title="5.address标签"></a>5.address标签</h5><p>可得到某个文档中所属作者或者持有者的相关信息。</p>
<ul>
<li>位于body元素内部，表示文档作者/所有者的联系信息</li>
<li>位于article元素内部，表示该文章作者/所有者的联系信息</li>
<li>如果行文中出现了一些随意的地址，你就不应该使用address元素，而应该使用普通的<p>元素就行了。</p></li>
<li>address元素里应该只存放地址信息，不要放置其它跟地址不相关的信息，比如出版时间，你应该把它放到time元素里。</li>
</ul>
<h5 id="6-base标签"><a href="#6-base标签" class="headerlink" title="6.base标签"></a>6.base标签</h5><ul>
<li>规定所有链接的默认URL和默认目标必须位于head标签内，且一个文档最多使用一个base元素</li>
<li>最好把base标签放在head元素的第一位，这样head区域的其他元素就可以使用base元素的信息</li>
<li>如果使用base标签，则必须具备href或者target属性或者两个属性都具备，支持全局属性，不支持任何事件</li>
</ul>
<h5 id="7-blockquote标签"><a href="#7-blockquote标签" class="headerlink" title="7. blockquote标签"></a>7. blockquote标签</h5><ul>
<li>用于引用大段的内容块，处于该标签的文本会独自分离出来且自动缩进</li>
<li>如果标签是不需要段落分隔的短引用，请使用q标签</li>
<li>若引文来自网络，则可将原内容的出处URL地址设置到cite属性上，若要以文本的形式告知读者引文的出处，可用cite标签<blockquote cite="**"></blockquote></li>
</ul>
<h4 id="8-button标签"><a href="#8-button标签" class="headerlink" title="8.button标签"></a><strong>8.button标签</strong></h4><ul>
<li><p>可定义一个按钮，在button元素内部可放置内容，比如文本或图像。这是该元素与使用input元素创建的按钮之间的不同之处</p>
</li>
<li><p>请始终为button元素规定type元素。不同浏览器对button元素的type属性使用不同的默认值，IE将提交button与/button之间的文本，而其他浏览器将提交value属性的内容。</p>
<ul>
<li><p>在使用<button>标签时很容易想当然的当成 </button><input type="button">使用，这很容易产生以下几点错误用法：</p>
<p>1、通过$(‘#customBtn’).val()获取<button id="customBtn" value="test">按钮</button> value的值</p>
<p>​     在IE(IE内核)下这样用到得的是值是“按钮”，而不是“test”，非IE下得到的是“test”。</p>
</li>
</ul>
</li>
<li><p>如果在 HTML 表单中使用 <button> 元素，不同的浏览器可能会提交不同的按钮值。请使用 input在 HTML 表单中创建按钮。</button></p>
</li>
<li><p><strong>唯一禁止</strong>使用的元素是图像映射，因为图像映射对鼠标和键盘敏感的动作会干扰表单按钮的行为</p>
</li>
<li><p>button属性</p>
<ul>
<li>form属性规定button元素属于哪个表单，位于表单之外却仍是表单的一部分，但其属性值必须是按钮所属表单<form>的id，如需使用一个以上的表单，使用空格分隔的列表</form></li>
<li>autofocus属性规定当页面加载时按钮自动获得焦点。</li>
<li>disabled属性规定禁用该按钮</li>
<li>formaction规定当提交表单时向何处提交表单数据。覆盖form元素的action属性，但必须配合type=“submit”使用</li>
<li>formanctype属性规定在向服务器发送表单数据之前如何对其进行编码。覆盖表单的nctypr属性，也必须和submit配合使用</li>
<li>formmethod属性规定用于发送表单数据的HTTP方法，覆盖method属性必须和submit配合使用</li>
<li>formnovalidate属性，提交表单时不进行验证</li>
<li>formtarget属性规定何处打开action URL.覆盖form元素的target属性</li>
<li>name属性</li>
<li>type</li>
<li>value</li>
</ul>
</li>
</ul>
<h5 id="9-bdo标签"><a href="#9-bdo标签" class="headerlink" title="9.bdo标签"></a>9.bdo标签</h5><ul>
<li><p>bdo标签覆盖默认的文本标签</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;bdo dir=&quot;rtl&quot;&gt;该段落文字从右到左显示&lt;/bdo&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>dir属性为必填，仅有 ltr 和 rtl 属性值</p>
</li>
</ul>
<h4 id="10-table表格子标签"><a href="#10-table表格子标签" class="headerlink" title="10.table表格子标签"></a>10.table表格子标签</h4><h5 id="1-col标签"><a href="#1-col标签" class="headerlink" title="1.col标签"></a>1.col标签</h5><ul>
<li>用于控制表格中的列，使你更方便为表格中的列应用样式</li>
</ul>
<h5 id="2-colgroup标签"><a href="#2-colgroup标签" class="headerlink" title="2.colgroup标签"></a>2.colgroup标签</h5><ul>
<li>用于对表格中的列进行组合，以便对其进行格式化，通过使用colgrounp标签，可以向整个列应用样式，而不需要重复为每个单元格设置样式</li>
<li>只能在table元素内，在caption元素之后，在任何thead，tbody，tfoot，tr元素之前使用colgroup标签</li>
<li>span属性规定列组应该横跨的列数</li>
</ul>
<h5 id="3-caption标签"><a href="#3-caption标签" class="headerlink" title="3.caption标签"></a>3.caption标签</h5><ul>
<li>定义表格的标题，只能对每个表格定义一个标题</li>
</ul>
<h4 id="4-td，th标签"><a href="#4-td，th标签" class="headerlink" title="4.td，th标签"></a>4.td，th标签</h4><ul>
<li>都是用于表示一个表格的单元格</li>
<li>th为表头单元格，包含头部信息（粗体并且居中），td为标准单元格，包含数据（左对齐）</li>
<li>colspan属性规定单元格可横跨的列数</li>
<li>rowspan属性设置单元格可横跨的行数</li>
<li>headers属性规定与单元格相关联的一个或多个表头单元格  header=”th标签的id值”</li>
</ul>
<h5 id="5-tr标签"><a href="#5-tr标签" class="headerlink" title="5.tr标签"></a>5.tr标签</h5><ul>
<li>定义表格的行</li>
</ul>
<h5 id="6-tfoot，thead，tbody标签"><a href="#6-tfoot，thead，tbody标签" class="headerlink" title="6.tfoot，thead，tbody标签"></a>6.tfoot，thead，tbody标签</h5><ul>
<li><p>tfoot用于表示一个表格的页脚，tbody规定表格的表头，tbody规定表格的主体</p>
</li>
<li><p>三者必须结合起来用</p>
</li>
<li><p>通过使用这些元素，使浏览器有能力支持独立于表格表头和表格页脚的表格主体滚动。当包含多个页面的长的表格被打印时，表格的表头和页脚可被打印在包含表格数据的每张页面上</p>
</li>
<li><p>tfoot&gt;元素内部必须包含一个或者多个 tr 标签。</p>
<p>thead、tbody 和 tfoot&gt;元素默认不会影响表格的布局。不过，您可以使用 CSS 来为这些元素定义样式，从而改变表格的外观。</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt; </span><br><span class="line">&lt;meta charset=&quot;utf-8&quot;&gt; </span><br><span class="line">&lt;title&gt;W3Cschool(w3cschool.cn)&lt;/title&gt; </span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;table border=&quot;1&quot;&gt;</span><br><span class="line">  &lt;colgroup&gt;</span><br><span class="line">    &lt;col span=&quot;2&quot; style=&quot;background-color:red&quot;&gt;</span><br><span class="line">    &lt;col style=&quot;background-color:yellow&quot;&gt;</span><br><span class="line">  &lt;/colgroup&gt;</span><br><span class="line">  &lt;tr&gt;</span><br><span class="line">    &lt;th&gt;ISBN&lt;/th&gt;</span><br><span class="line">    &lt;th&gt;Title&lt;/th&gt;</span><br><span class="line">    &lt;th&gt;Price&lt;/th&gt;</span><br><span class="line">  &lt;/tr&gt;</span><br><span class="line">  &lt;tr&gt;</span><br><span class="line">    &lt;td&gt;3476896&lt;/td&gt;</span><br><span class="line">    &lt;td&gt;My first HTML&lt;/td&gt;</span><br><span class="line">    &lt;td&gt;$53&lt;/td&gt;</span><br><span class="line">  &lt;/tr&gt;</span><br><span class="line">  &lt;tr&gt;</span><br><span class="line">    &lt;td&gt;5869207&lt;/td&gt;</span><br><span class="line">    &lt;td&gt;My first CSS&lt;/td&gt;</span><br><span class="line">    &lt;td&gt;$49&lt;/td&gt;</span><br><span class="line">  &lt;/tr&gt;</span><br><span class="line">&lt;/table&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0"> 
<meta charset="utf-8"> 
<title>W3Cschool(w3cschool.cn)</title> 
</head>
<body>


<table border="1">
  <colgroup>
    <col span="2" style="background-color:red">
    <col style="background-color:yellow">
  </colgroup>
  <tr>
    <th>ISBN</th>
    <th>Title</th>
    <th>Price</th>
  </tr>
  <tr>
    <td>3476896</td>
    <td>My first HTML</td>
    <td>$53</td>
  </tr>
  <tr>
    <td>5869207</td>
    <td>My first CSS</td>
    <td>$49</td>
  </tr>
</table>

<h4 id="11-title标签"><a href="#11-title标签" class="headerlink" title="11.title标签"></a>11.title标签</h4><h5 id="定义文档的标题"><a href="#定义文档的标题" class="headerlink" title="定义文档的标题"></a>定义文档的标题</h5><ul>
<li>定义浏览器工具栏中的标题</li>
<li>提供页面被添加到文件夹时的标题</li>
<li>显示搜索引擎结果中的页面标题</li>
</ul>
<h4 id="12-time标签"><a href="#12-time标签" class="headerlink" title="12.time标签"></a>12.time标签</h4><ul>
<li>用于标注日期、时间或日期与时间的组合（日期格式是YYYY-MM-DD）。</li>
<li>该元素能够以机器可读的方式对日期和时间进行编码，这样，举例说，用户代理能够把生日提醒或排定的事件添加到用户日程表中，搜索引擎也能够生成更智能的搜索结果。</li>
</ul>
<h4 id="13-textarea标签"><a href="#13-textarea标签" class="headerlink" title="13.textarea标签"></a>13.textarea标签</h4><ul>
<li><p>textarea标签用于创建一个可以输入多行的文本框。</p>
</li>
<li><p>文本区域中可容纳无限数量的文本，其中的文本的默认字体是等宽字体（通常是 Courier）。</p>
<p>可以通过 cols 和 rows 属性来规定 textarea 的尺寸大小，不过更好的办法是使用 CSS 的 height和 width属性</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>值</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><a href="https://www.w3cschool.cn/htmltags/att-textarea-autofocus.html" target="_blank" rel="noopener">autofocus</a>New</td>
<td>autofocus</td>
<td>规定当页面加载时，文本区域自动获得焦点。</td>
</tr>
<tr>
<td><a href="https://www.w3cschool.cn/htmltags/att-textarea-cols.html" target="_blank" rel="noopener">cols</a></td>
<td><em>number</em></td>
<td>规定文本区域内可见的列数。</td>
</tr>
<tr>
<td><a href="https://www.w3cschool.cn/htmltags/att-textarea-disabled.html" target="_blank" rel="noopener">disabled</a></td>
<td>disabled</td>
<td>规定禁用文本区域。</td>
</tr>
<tr>
<td><a href="https://www.w3cschool.cn/htmltags/att-textarea-form.html" target="_blank" rel="noopener">form</a>New</td>
<td><em>form_id</em></td>
<td>定义文本区域所属的一个或多个表单。</td>
</tr>
<tr>
<td><a href="https://www.w3cschool.cn/htmltags/att-textarea-maxlength.html" target="_blank" rel="noopener">maxlength</a>New</td>
<td><em>number</em></td>
<td>规定文本区域允许的最大字符数。</td>
</tr>
<tr>
<td><a href="https://www.w3cschool.cn/htmltags/att-textarea-name.html" target="_blank" rel="noopener">name</a></td>
<td><em>text</em></td>
<td>规定文本区域的名称。</td>
</tr>
<tr>
<td><a href="https://www.w3cschool.cn/htmltags/att-textarea-placeholder.html" target="_blank" rel="noopener">placeholder</a>New</td>
<td><em>text</em></td>
<td>规定一个简短的提示，描述文本区域期望的输入值。</td>
</tr>
<tr>
<td><a href="https://www.w3cschool.cn/htmltags/att-textarea-readonly.html" target="_blank" rel="noopener">readonly</a></td>
<td>readonly</td>
<td>规定文本区域为只读。</td>
</tr>
<tr>
<td><a href="https://www.w3cschool.cn/htmltags/att-textarea-required.html" target="_blank" rel="noopener">required</a>New</td>
<td>required</td>
<td>规定文本区域是必需的/必填的。</td>
</tr>
<tr>
<td><a href="https://www.w3cschool.cn/htmltags/att-textarea-rows.html" target="_blank" rel="noopener">rows</a></td>
<td><em>number</em></td>
<td>规定文本区域内可见的行数。</td>
</tr>
<tr>
<td><a href="https://www.w3cschool.cn/htmltags/att-textarea-wrap.html" target="_blank" rel="noopener">wrap</a>New</td>
<td>hard soft</td>
<td>规定当提交表单时，文本区域中的文本应该怎样换行。</td>
</tr>
</tbody></table>
</li>
</ul>
<h4 id="14-短语元素"><a href="#14-短语元素" class="headerlink" title="14. 短语元素"></a>14. 短语元素</h4><h5 id="1-em标签呈现的是被强调的文本"><a href="#1-em标签呈现的是被强调的文本" class="headerlink" title="1.em标签呈现的是被强调的文本"></a>1.em标签呈现的是被强调的文本</h5><h5 id="2-strong标签定义重要的文本"><a href="#2-strong标签定义重要的文本" class="headerlink" title="2.strong标签定义重要的文本"></a>2.strong标签定义重要的文本</h5><h5 id="3-dfn标签定义一个定义项目"><a href="#3-dfn标签定义一个定义项目" class="headerlink" title="3.dfn标签定义一个定义项目"></a>3.dfn标签定义一个定义项目</h5><h5 id="4-code定义计算机代码文本"><a href="#4-code定义计算机代码文本" class="headerlink" title="4.code定义计算机代码文本"></a>4.code定义计算机代码文本</h5><h5 id="5-samp定义样本文本"><a href="#5-samp定义样本文本" class="headerlink" title="5.samp定义样本文本"></a>5.samp定义样本文本</h5><h5 id="6-kbd标签定义键盘文本，表示文本是从键-盘上键入的。"><a href="#6-kbd标签定义键盘文本，表示文本是从键-盘上键入的。" class="headerlink" title="6.kbd标签定义键盘文本，表示文本是从键        盘上键入的。"></a>6.kbd标签定义键盘文本，表示文本是从键        盘上键入的。</h5><h5 id="7-var标签定义变量"><a href="#7-var标签定义变量" class="headerlink" title="7.var标签定义变量"></a>7.var标签定义变量</h5><h5 id="8-cite标签定义引用。"><a href="#8-cite标签定义引用。" class="headerlink" title="8.cite标签定义引用。"></a>8.cite标签定义引用。</h5><p>​        可使用该标签对参考文献的引用进行定义，比如        书籍或杂志的标题</p>
<h5 id="9-高亮显示mark标签"><a href="#9-高亮显示mark标签" class="headerlink" title="9.高亮显示mark标签"></a>9.高亮显示mark标签</h5><h4 id="15-列表标签"><a href="#15-列表标签" class="headerlink" title="15.列表标签"></a>15.列表标签</h4><h5 id="1-ul-无序列表"><a href="#1-ul-无序列表" class="headerlink" title="1.ul 无序列表"></a>1.ul 无序列表</h5><h5 id="2-dl带有项目和描述的描述列表"><a href="#2-dl带有项目和描述的描述列表" class="headerlink" title="2.dl带有项目和描述的描述列表"></a>2.dl带有项目和描述的描述列表</h5><p><strong>注意 :</strong></p>
<p>请不要将该元素（也不要用 ul 元素）用来在页面创建具有缩进效果的内容。虽然这样的结果样式看上去没问题，但是，这是很糟糕的做法，并且语义也不清晰。</p>
<p>要改变描述列表中描述的缩进量，请使用 CSS margin 属性。</p>
<h4 id="16-del删除标签，ins插入标签"><a href="#16-del删除标签，ins插入标签" class="headerlink" title="16.del删除标签，ins插入标签"></a>16.del删除标签，ins插入标签</h4><p>My favorite color is <del>blue</del> <ins>red</ins>!</p> 

<table>
<thead>
<tr>
<th>属性</th>
<th>值</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>cite</td>
<td><em>URL</em></td>
<td>规定一个解释了文本被删除的原因的文档的 URL。</td>
</tr>
<tr>
<td>datetime</td>
<td><em>YYYY-MM-DDThh:mm:ssTZD</em></td>
<td>规定文本被删除的日期和时间。</td>
</tr>
</tbody></table>
<h4 id="17-details细节标签"><a href="#17-details细节标签" class="headerlink" title="17.details细节标签"></a>17.details细节标签</h4><ul>
<li><p>只有chrome和Safari 6 支持details标签</p>
</li>
<li><p>details标签规定了用户可见的或者隐藏的需求的补充细节</p>
</li>
<li><p>details标签用于供用户开启关闭的交互式控件。任何形式的内容都可以被放在details标签内</p>
</li>
<li><p>details标签内的内容对用户是不可见的，除非设置了open属性</p>
</li>
<li><p>details标签与summary标签配合使用可以为details定义标题。标题是可见的，用户点击标题时，会显示出details内的内容</p>
<details>
<summary>Copyright 1999-2011.</summary>
<p> - by Refsnes Data. All Rights Reserved.</p>
<p>All content and graphics on this web site are the property of the company Refsnes Data.</p></details>

</li>
</ul>
<h4 id="18-embed-标签"><a href="#18-embed-标签" class="headerlink" title="18. embed 标签"></a>18. embed 标签</h4><ul>
<li>embed 标签定义了一个容器，用来嵌入外部应用或者互动程序（插件）</li>
</ul>
<h4 id="19-figcaption标签"><a href="#19-figcaption标签" class="headerlink" title="19.figcaption标签"></a>19.figcaption标签</h4><ul>
<li>figcaption标签用来表示figure标签的标题</li>
<li>figcaption元素应该被置于figure元素的第一个或者最后一个子元素的位置</li>
</ul>
<h4 id="20-form表单"><a href="#20-form表单" class="headerlink" title="20.form表单"></a>20.form表单</h4><h5 id="1-form-元素包含一个或多个如下的表单元素："><a href="#1-form-元素包含一个或多个如下的表单元素：" class="headerlink" title="1.form 元素包含一个或多个如下的表单元素："></a>1.form 元素包含一个或多个如下的表单元素：</h5><ul>
<li>input</li>
<li>textarea</li>
<li>button</li>
<li>select</li>
<li>option</li>
<li>optgroup</li>
<li>fieldset</li>
<li>label</li>
</ul>
<h5 id="20-form-标签用于创建供用户输入的-HTML-表单。"><a href="#20-form-标签用于创建供用户输入的-HTML-表单。" class="headerlink" title="20.form 标签用于创建供用户输入的 HTML 表单。"></a>20.form 标签用于创建供用户输入的 HTML 表单。</h5><p>可以用 ‘:valid ‘  和’:invalid’ CSS 伪类 来给一个元素指定样式。</p>
<h4 id="21-footer标签"><a href="#21-footer标签" class="headerlink" title="21.footer标签"></a>21.footer标签</h4><ul>
<li><footer> 标签定义文档或者文档的一部分区域的页脚。


</footer></li>
</ul>
  

<ul>
<li><footer> 元素应该包含它所包含的元素的信息。


</footer></li>
</ul>
<p>  在典型情况下，该元素会包含文档创作者的姓名、文档的版权信息、使用条款的链接、联系信息等等。在一个文档中，您可以定义多个 <footer> 元素。</footer></p>
<ul>
<li>假如您使用 <footer> 元素来插入联系信息，应该在 <footer> 元素内使用 footer标签。</footer></footer></li>
</ul>
<h4 id="22-fieldset标签"><a href="#22-fieldset标签" class="headerlink" title="22.fieldset标签"></a>22.fieldset标签</h4><ul>
<li>HTML5 <fieldset>标签用于对表单中的相关元素进行分组：</fieldset></li>
<li><fieldset> 标签可以将表单内的相关元素<fieldset> 标签会在相关表单元素周围绘制边框。

</fieldset></fieldset></li>
</ul>
<form>
 <fieldset>
   <legend>Personalia:</legend>
   Name: <input type="text"><br>
   Email: <input type="text"><br>
   Date of birth: <input type="text">
 </fieldset>
</form> 

<h4 id="23-hgroup标签"><a href="#23-hgroup标签" class="headerlink" title="23.hgroup标签"></a>23.hgroup标签</h4><ul>
<li>使用hgroup标签对标题进行组合</li>
<li>注意: 本元素已经从HTML5（W3C）规范中删除，但是它仍旧在 WHATWG 的 HTML 版本里。大多数浏览器都部分地实现，所以它不太可能消失。 但是其轮廓算法(outline algorithm)未在任何浏览器中实现，因此 <hgroup> 语义仍旧是理论的。HTML5 (W3C) 规范提供了如何处理副标题，小标题，可选标题和标语（Subheadings, subtitles, alternative titles and taglines）的建议。</hgroup></li>
</ul>
<h4 id="24-水平线hr标签"><a href="#24-水平线hr标签" class="headerlink" title="24.水平线hr标签"></a>24.水平线hr标签</h4><ul>
<li>定义内容中的主题变化，并显示为一条水平线。</li>
</ul>
<h4 id="25-header标签"><a href="#25-header标签" class="headerlink" title="25.header标签"></a>25.header标签</h4><p>header标签用来表示介绍性的内容，即，定义了文档中的页眉，作为介绍内容或者导航链接栏的容器。</p>
<article>
    <header>
        <h1>Internet Explorer 9</h1>
        <p><time pubdate datetime="2011-03-15"></time></p>
    </header>
    <p> Windows Internet Explorer 9(缩写为 IE9 )是在2011年3月14日21:00发布的</p>
</article>

<p><strong>注释：</strong><header> 标签不能被放在 <footer>、<address> 或者另一个 <header> 元素内部。</header></address></footer></header></p>
<h4 id="26-link标签"><a href="#26-link标签" class="headerlink" title="26.link标签"></a>26.link标签</h4><link>标签用于在文档与将要使用的外部之间建立联系，以为文档获取相应的资源。

<p>链接到外部样式文件:<link rel="stylesheet" type="text/css" href="theme.css"></p>
<h4 id="27-legend标签"><a href="#27-legend标签" class="headerlink" title="27.legend标签"></a>27.legend标签</h4><p>legend元素是fieldset元素的第一个子元素，定义了fieldset元素的标题</p>
<h4 id="28-label属性"><a href="#28-label属性" class="headerlink" title="28.label属性"></a>28.label属性</h4><ul>
<li>可以为input标签做出标记</li>
<li>label元素不会向用户呈现任何特殊的效果。不过，他为鼠标用户改进了可用性。如果您在label元素内点击文本，就会触发此控件。即当用户选择该标签时，浏览器就会自动将焦点转到和标签相关的表单控件上</li>
<li>label标签的for属性应与相关元素的id属性相同</li>
</ul>
<h4 id="29-map标签用来表示图像映射"><a href="#29-map标签用来表示图像映射" class="headerlink" title="29.map标签用来表示图像映射"></a>29.map标签用来表示图像映射</h4><p>&lt;mapname=”planetmap”&gt;<br><area shape="rect" coords="0,0,82,126" href="sun.htm" alt="Sun"><br><area shape="circle" coords="90,58,3" href="mercur.htm" alt="Mercury"><br><area shape="circle" coords="124,58,8" href="venus.htm" alt="Venus"><br></p>
<ul>
<li>map标签用于客户端图像映射（指可点击区域的一幅图像。</li>
<li>img中的usemap属性可引用map中的id或name属性（取决于浏览器），so我们应该同时向map添加id和name属性</li>
<li>area元素永远嵌套在map元素内部</li>
</ul>
<h4 id="30-元数据meta标签"><a href="#30-元数据meta标签" class="headerlink" title="30.元数据meta标签"></a>30.元数据meta标签</h4><ul>
<li><p>元数据是数据的数据信息，不会显示在客户端，当时会被浏览器解析</p>
</li>
<li><p>meta元素通常用于指定页面的描述，关键词，文件的最后的修改，作者和其他元数据</p>
</li>
<li><p>元数据可以被浏览器使用（如何显示内容或重新加载页面），搜索引擎（关键词）或其他web服务调用</p>
</li>
<li><p>meta标签通常位于head区域内，以名称/值对出现，如果没有提供name属性，则名称/值对中会采用http-equiv属性的值</p>
</li>
<li><h2 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h2><p><strong>实例 1 - 定义文档关键词，用于搜索引擎：</strong></p>
<meta name="keywords" content="HTML, CSS, XML, XHTML, JavaScript">


</li>
</ul>
<p>  <strong>实例 2 - 定义web页面描述：</strong></p>
  <meta name="description" content="Free Web tutorials on HTML and CSS">


<p>  <strong>实例 3 - 定义页面作者：</strong></p>
  <meta name="author" content="Hege Refsnes">


<p>  <strong>实例 4 - 每30秒刷新页面：</strong></p>
  <meta http-equiv="refresh" content="30">

<h4 id="31-度量衡meter标签"><a href="#31-度量衡meter标签" class="headerlink" title="31.度量衡meter标签"></a>31.度量衡meter标签</h4><ul>
<li><meter value="2" max="10" min="0">out of 10</meter></li>
<li>用于定义度量衡，仅用于已知最大和最小值的度量，如磁盘使用情况，查寻结果的相关性</li>
<li><meter> 不能作为一个进度条来使用， 进度条 progress 标签</meter></li>
</ul>
<table>
<thead>
<tr>
<th>属性</th>
<th>值</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><a href="https://www.w3cschool.cn/htmltags/att-meter-form.html" target="_blank" rel="noopener">form</a>New</td>
<td><em>form_id</em></td>
<td>规定 <meter> 元素所属的一个或多个表单。</meter></td>
</tr>
<tr>
<td><a href="https://www.w3cschool.cn/htmltags/att-meter-high.html" target="_blank" rel="noopener">high</a>New</td>
<td><em>number</em></td>
<td>规定被界定为高的值的范围。</td>
</tr>
<tr>
<td><a href="https://www.w3cschool.cn/htmltags/att-meter-low.html" target="_blank" rel="noopener">low</a>New</td>
<td><em>number</em></td>
<td>规定被界定为低的值的范围。</td>
</tr>
<tr>
<td><a href="https://www.w3cschool.cn/htmltags/att-meter-max.html" target="_blank" rel="noopener">max</a>New</td>
<td><em>number</em></td>
<td>规定范围的最大值。</td>
</tr>
<tr>
<td><a href="https://www.w3cschool.cn/htmltags/att-meter-min.html" target="_blank" rel="noopener">min</a>New</td>
<td><em>number</em></td>
<td>规定范围的最小值。</td>
</tr>
<tr>
<td><a href="https://www.w3cschool.cn/htmltags/att-meter-optimum.html" target="_blank" rel="noopener">optimum</a>New</td>
<td><em>number</em></td>
<td>规定度量的最优值。</td>
</tr>
<tr>
<td><a href="https://www.w3cschool.cn/htmltags/att-meter-value.html" target="_blank" rel="noopener">value</a>New</td>
<td><em>number</em></td>
<td>必需。规定度量的当前值。</td>
</tr>
</tbody></table>
<h4 id="32-导航nav标签"><a href="#32-导航nav标签" class="headerlink" title="32.导航nav标签"></a>32.导航nav标签</h4><ul>
<li>nav标签用于html页面中的导航，可以是页与页之间的导航，也可是业内的段与段之间的导航</li>
</ul>
<h4 id="33-noscript标签"><a href="#33-noscript标签" class="headerlink" title="33.noscript标签"></a>33.noscript标签</h4><ul>
<li><p>noscript 元素用来定义在脚本未被执行时的替代内容（文本），此标签可被用于可识别 <noscript> 标签但无法支持其中的脚本的浏览器。</noscript></p>
</li>
<li><script>
document.write("Hello World!")
</script>
<p><noscript>抱歉，你的浏览器不支持 JavaScript!</noscript></p>
</li>
<li><p>如果浏览器支持脚本，那么它不会显示出 noscript 元素中的文本，无法识别 <script> 标签的浏览器会把标签的内容显示到页面上。为了避免浏览器这样做，您应当在注释标签中隐藏脚本。老式的（无法识别 <script> 标签的）浏览器会忽略注释，这样就不会把标签的内容写到页面上，而新式的浏览器则懂得执行这些脚本，即使它们被包围在注释标签中！</p>
</li>
</ul>
<script>
<!--
function displayMsg()
{
alert("Hello World!")
}
//-->
</script> 

</p><h4 id="34-option标签"><a href="#34-option标签" class="headerlink" title="34.option标签"></a>34.option标签</h4><ul>
<li>定义下拉列表的一个选项</li>
<li>必须与select或datalist标签结合使用</li>
<li>option可在不带任何属性的情况下使用，但通常需要value值，该属性定义了发送到服务器的数据</li>
</ul>
<table>
<thead>
<tr>
<th>属性</th>
<th>值</th>
<th>描述</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>disabled</td>
<td>disabled</td>
<td>规定此选项应在首次加载时被禁用。</td>
<td></td>
<td></td>
</tr>
<tr>
<td>label</td>
<td>text</td>
<td>定义当使用 <optgroup> 时所使用的标注。</optgroup></td>
<td></td>
<td></td>
</tr>
<tr>
<td>selected</td>
<td>selected</td>
<td>规定选项（在首次显示在列表中时）表现为选中状态。</td>
<td></td>
<td></td>
</tr>
<tr>
<td>value</td>
<td>text</td>
<td>定义送往服务器的选项值。</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h4 id="35-output标签"><a href="#35-output标签" class="headerlink" title="35.output标签"></a>35.output标签</h4><ul>
<li>用于定义不同类型的输出，可作为输出结果显示（执行脚本的输出）</li>
</ul>
<form oninput="x.value=parseInt(a.value)+parseInt(b.value)">0
<input type="range" id="a" value="50">100
+<input type="number" id="b" value="50">
=<output name="x" for="a b"></output>
</form>

<h4 id="36-optgroup标签"><a href="#36-optgroup标签" class="headerlink" title="36.optgroup标签"></a>36.optgroup标签</h4><ul>
<li>optgroup标签用来定义一个选项组，即可将文档中的选项进行组合</li>
</ul>
<select>
  <optgroup label="Swedish Cars">
    <option value="volvo">Volvo</option>
    <option value="saab">Saab</option>
  </optgroup>
  <optgroup label="German Cars">
    <option value="mercedes">Mercedes</option>
    <option value="audi">Audi</option>
  </optgroup>
</select> 

<h4 id="37-预格式化pre标签"><a href="#37-预格式化pre标签" class="headerlink" title="37.预格式化pre标签"></a>37.预格式化pre标签</h4><ul>
<li>被包围在 <pre> 标签 元素中的文本通常会保留空格和换行符。而文本也会呈现为等宽字体。一个常见应用就是用来表示计算机的源代码。</pre></li>
</ul>
<h4 id="38-中文注音或字符"><a href="#38-中文注音或字符" class="headerlink" title="38.中文注音或字符"></a>38.中文注音或字符</h4><ul>
<li><p><ruby> 标签定义 ruby 注释（中文注音或字符）。</ruby></p>
<p>在东亚使用，显示的是东亚字符的发音。</p>
<p>将 <ruby> 标签与rt和 rp 标签一起使用：<br><ruby> 元素由一个或多个需要解释/发音的字符和一个提供该信息的 <rt> 元素组成，还包括可选的 <rp> 元素，定义当浏览器不支持 "ruby" 元素时显示的内容。</rp></rt></ruby></ruby></p>
</li>
<li><p>汉 (Han)<br>字 (Zi) </p>
<ruby> 
汉 <rp>(</rp><rt>Han</rt><rp>)</rp> 
字 <rp>(</rp><rt>Zi</rt><rp>)</rp> 
</ruby>

</li>
</ul>
<h4 id="39-上标下标sub-sup标签"><a href="#39-上标下标sub-sup标签" class="headerlink" title="39.上标下标sub sup标签"></a>39.上标下标sub sup标签</h4><ul>
<li><p><sub>和<sup>标签分别为文档中的内容定义下标和上标</sup></sub></p>
</li>
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">这段文本包含 &lt;sub&gt;下标&lt;/sub&gt;</span><br><span class="line">      </span><br><span class="line">这段文本包含 &lt;sup&gt;上标&lt;/sup&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
</li></ul></body></html></html>
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-HTML5基础上-陈楚吟" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/03/26/HTML5基础上-陈楚吟/" class="article-date">
      <time datetime="2020-03-26T03:25:47.000Z" itemprop="datePublished">2020-03-26</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/03/26/HTML5基础上-陈楚吟/">HTML5基础上-陈楚吟</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h2 id="一-HTML优点"><a href="#一-HTML优点" class="headerlink" title="一 .HTML优点"></a>一 .HTML优点</h2><h4 id="1-html5的建立的规则"><a href="#1-html5的建立的规则" class="headerlink" title="1 . html5的建立的规则"></a>1 . html5的建立的规则</h4><ul>
<li>新特性应该基于html，css，dom，js</li>
<li>应该减少对外部插件的使用（就因乔布斯炮轰flash插件推动了html5的发展）</li>
<li>更优秀的错误处理</li>
<li>更多取代脚本的标记</li>
<li>html5应该独立于设备</li>
<li>开发进程应向公众透明</li>
</ul>
<h4 id="2-新特性"><a href="#2-新特性" class="headerlink" title="2.新特性"></a>2.新特性</h4><ul>
<li>用于绘画的canvas元素和SVG元素（这个属性超级棒，你可以画一些很好玩的图形）</li>
<li>用于媒介回放的video和audio元素（摆脱了flash等插件，网页加载速度极大提升了）</li>
<li>对于对本地离线的存储的更好支持（这是html5最强大之处）</li>
<li>新的表单控件产生，特别是有关时间日期的，email，calendar，date，time，url，search</li>
<li>新的语义化的内容标签出现，article，footer，header，nav，section（减少div的使用，同时提高了代码的复用性）</li>
</ul>
<h4 id="3-浏览器"><a href="#3-浏览器" class="headerlink" title="3.浏览器"></a>3.浏览器</h4><p>现在的浏览器几乎都支持html5</p>
<p>主流浏览器是指拥有自己内核且实用度极高的浏览器。</p>
<ul>
<li>Firefox：Gecko内核</li>
<li>谷歌 ： 之前是Webkit内核，现在是Blink内核</li>
<li>IE : Trident内核</li>
<li>Opera ： Presto内核——Webkit——Blink</li>
<li>Safari ：Webkit内核</li>
</ul>
<h2 id="二-主要的新增元素"><a href="#二-主要的新增元素" class="headerlink" title="二 . 主要的新增元素"></a>二 . 主要的新增元素</h2><h4 id="1-画布Canvas-基于脚本）"><a href="#1-画布Canvas-基于脚本）" class="headerlink" title="1 . 画布Canvas(基于脚本）"></a>1 . 画布Canvas(基于脚本）</h4><ul>
<li>默认没有边框和内容，通常需要指定id属性以供脚本使用，所有绘制工作由脚本完成，因其是逐像素进行渲染的，故最适合图像密集型的游戏，其中的许多对象会被频繁重绘。</li>
<li>绘制步骤（前两部是固定的）<ul>
<li>通过id属性找到canvas元素：var c=document.getElementById(“id值”)；</li>
<li>创建context对象（就是做绘图前的准备）：var cxt=c.getContext(“2d”);</li>
<li>利用context对象绘制路径</li>
</ul>
</li>
</ul>
<h4 id="2-可伸缩矢量图形SVG（基于XML"><a href="#2-可伸缩矢量图形SVG（基于XML" class="headerlink" title="2. 可伸缩矢量图形SVG（基于XML)"></a>2. 可伸缩矢量图形SVG（基于XML)</h4><ul>
<li><p>定义：用于定义用于网格的基于矢量的，用XML格式定义的图形，SVG图像在放大或改变尺寸时其图形质量不变</p>
</li>
<li><p>优势（与其他图像格式相比，如jpg，gif）</p>
<ul>
<li>可通过文本编辑器来创建和修改</li>
<li>可被搜索，压缩，索引，脚本化，且在任何分辨率下高质量的打印，即使放大缩小，其质量也不会下降。适合大型渲染区域的应用程序（如google地图）</li>
</ul>
<table>
<thead>
<tr>
<th>类型</th>
<th>canvas</th>
<th>SVG</th>
</tr>
</thead>
<tbody><tr>
<td>支持分辨率</td>
<td>支持</td>
<td>不支持</td>
</tr>
</tbody></table>
<p>支持事件处理器            不支持                支持</p>
<p>文本渲染能力                弱                强</p>
</li>
</ul>
<h4 id="3-表单元素属性"><a href="#3-表单元素属性" class="headerlink" title="3. 表单元素属性"></a>3. 表单元素属性</h4><ul>
<li>datalist元素规定表单域中自动完成功能，配合option使用</li>
<li>keygen元素的作用是提供一种验证用户的可靠方法，其规定了用于表单的密钥生成器字段。当提交时会生成密钥和私钥两个键（防止中间人通过截取密钥解密数据），私钥存储于客户端，公钥被发送到服务器。公钥可用于之后验证用户的客户端证书<keygen name="security"></li>
<li>output 元素定义不同类型的输出，比如脚本的输出</li>
</ul>
<h4 id="4-HTML5-Shiv"><a href="#4-HTML5-Shiv" class="headerlink" title="4. HTML5 Shiv"></a>4. HTML5 Shiv</h4><ul>
<li>IE8及更早版本无法在语义化元素中渲染css效果，可使用HTML Shiv脚本解决兼容问题</li>
<li>解决方法：1. 下载shiv然后将以下代码放在网页中<!--[if It IE 9]><script src="htmlshiv.js"></script><![endif]--></li>
</ul>
<h2 id="三-html-Web存储"><a href="#三-html-Web存储" class="headerlink" title="三 . html Web存储"></a>三 . html Web存储</h2><ul>
<li>定义及优点：使用html5可以在本地存储用户的浏览数据，web存储更安全与快速。这些数据不会保存在服务器端，只用于用户请求网站数据上。可存储大量的数据而不影响网站的性能（这也是为什么你输入网址会先在本地检索的原因），解决了之前cookie存储时需要在请求头上带着数据，且存储大小不超过4k的缺点,数据以键值对存在，且只允许该网页访问web网页上的数据</li>
<li>客户端存储数据的两个对象（进行web存储时先检查是否支持（typeof(Storage)!==”undefined”))<ul>
<li>localStorage：没有时间限制的本地数据存储，关闭浏览器后，数据仍保存在浏览器上</li>
<li>sessionStorage：针对一个session的数据存储，关闭浏览器后，数据都将被删除</li>
</ul>
</li>
<li>常用方法：<ul>
<li>保存数据：localStorage.setItem(key,value);</li>
<li>读取数据：localStorage.getItem(key);</li>
<li>删除单个数据：localStorage.removeItem(key);</li>
<li>删除所有数据：localStorage.clear();</li>
<li>得到某个索引的key：localStorage.key(index);</li>
</ul>
</li>
</ul>
<h2 id="四-HTML5-Web-SQL数据库"><a href="#四-HTML5-Web-SQL数据库" class="headerlink" title="四 . HTML5 Web SQL数据库"></a>四 . HTML5 Web SQL数据库</h2><h5 id="1-基本概念"><a href="#1-基本概念" class="headerlink" title="1.基本概念"></a>1.基本概念</h5><ul>
<li>Web SQL 是在浏览器上模拟数据库，可使用js对操作SQL完成对数据的读写，但是Web SQL数据库不是HTML5规范的一部分，它是一个独立的规范引入一组使用SQL操作客户端数据库的APIs。（仅在Safari,Chrome,Opera浏览器工作）</li>
</ul>
<h5 id="2-三大核心方法"><a href="#2-三大核心方法" class="headerlink" title="2. 三大核心方法"></a>2. 三大核心方法</h5><ul>
<li><p>openDatabase：这个方法使用现有的数据库或新建的数据库创建一个数据库对象</p>
<ul>
<li>openDatabase（’数据库名称‘，’版本号‘，’描述文本‘，’数据库大小‘）；创建完后会回调并调用；</li>
</ul>
</li>
<li><p>transaction:这份方法让我们能够控制一个事务，以及基于这种情况执行提交或者回滚</p>
</li>
<li><p>executeSql:用于执行实际的SQL查询</p>
<h5 id="for-example"><a href="#for-example" class="headerlink" title="for example"></a>for example</h5><p>var db = openDatabase(‘mydb’, ‘1.0’, ‘Test DB’, 2 * 1024 * 1024);<br>db.transaction(function (tx) {<br>tx.executeSql(‘CREATE TABLE IF NOT EXISTS LOGS (id unique, log)’);<br>tx.executeSql(‘INSERT INTO LOGS (id, log) VALUES (1, “W3Cschool教程”)’);<br>tx.executeSql(‘INSERT INTO LOGS (id, log) VALUES (2, “<a href="http://www.w3cschool.cn&quot;)&#39;" target="_blank" rel="noopener">www.w3cschool.cn&quot;)&#39;</a>);<br>});</p>
</li>
</ul>
<h2 id="五-html5-应用程序缓存"><a href="#五-html5-应用程序缓存" class="headerlink" title="五 . html5 应用程序缓存"></a>五 . html5 应用程序缓存</h2><h4 id="1-三大优势："><a href="#1-三大优势：" class="headerlink" title="1.三大优势："></a>1.三大优势：</h4><ul>
<li>离线浏览-用户可在应用离线下使用它们</li>
<li>已缓存资源加载更快</li>
<li>减少服务器负载——浏览器将只从服务器下载更新过或更改的资源</li>
</ul>
<h5 id="2-应用："><a href="#2-应用：" class="headerlink" title="2.应用："></a>2.应用：</h5><html manifest="demo.appcache">每个指定了manifest的页面在用户对其访问时都会被缓存，未指定则不会缓存

<h4 id="3-Manifest文件"><a href="#3-Manifest文件" class="headerlink" title="3.Manifest文件"></a>3.Manifest文件</h4><ul>
<li>manifest 文件是简单的文本文件，它告知浏览器被缓存的内容（以及不缓存的内容）。</li>
<li>manifest 文件可分为三个部分：<ul>
<li><em>CACHE MANIFEST</em> - 在此标题下列出的文件将在首次下载后进行缓存</li>
<li><em>NETWORK</em> - 在此标题下列出的文件需要与服务器的连接，且不会被缓存</li>
<li><em>FALLBACK</em> - 在此标题下列出的文件规定当页面无法访问时的回退页面（比如 404 页面）</li>
</ul>
</li>
<li>更新缓存，一旦应用被缓存，他就会保持缓存直到发生以下情况<ul>
<li>用户清空浏览器</li>
<li>manifest文件被修改</li>
<li>由程序来更新应用缓存</li>
</ul>
</li>
</ul>
<h2 id="六-Web-Workers"><a href="#六-Web-Workers" class="headerlink" title="六  . Web Workers"></a>六  . Web Workers</h2><h5 id="1-定义"><a href="#1-定义" class="headerlink" title="1. 定义"></a>1. 定义</h5><p>是运行在后台的javascript，属于后端的线程，不影响页面的性能。当html页面执行脚本时，页面的状态是不可响应的，直到脚本已完成，因其是前端的单线程</p>
<h5 id="2-前轴"><a href="#2-前轴" class="headerlink" title="2.前轴"></a>2.前轴</h5><p>在创建 web worker 之前，请检测用户的浏览器是否支持它：typeof(Worker)!==”undefined”  这步的检测非常重要！你必须先检测才能保证接下来可以顺利操作 web worker！ web worker 通常不用于如此简单的脚本，而是用于更耗费 CPU 资源的任务。</p>
<h5 id="3-Web-Workers-和-DOM"><a href="#3-Web-Workers-和-DOM" class="headerlink" title="3. Web Workers 和 DOM"></a>3. Web Workers 和 DOM</h5><p>由于 web worker 位于外部文件中，它们无法访问下例 JavaScript 对象：</p>
<ul>
<li>window 对象</li>
<li>document </li>
<li>parent 对象</li>
</ul>
<h2 id="七-HTML5-SSE"><a href="#七-HTML5-SSE" class="headerlink" title="七 . HTML5 SSE"></a>七 . HTML5 SSE</h2><h5 id="1-定义-1"><a href="#1-定义-1" class="headerlink" title="1.定义"></a>1.定义</h5><p>HTML5 服务器发送事件(Server-Sent Events)是基于WebSocket协议的一种服务器向客户端发送事件和数据的<strong><em>单向通讯</em></strong>,允许网页来自服务器的更新，除了·IE，其他主流浏览器都支持</p>
<h5 id="2-实例讲解"><a href="#2-实例讲解" class="headerlink" title="2 . 实例讲解"></a>2 . 实例讲解</h5><p>var source=new EventSource(“demo_sse.php”);<br>source.onmessage=function(event)<br>  {<br>  document.getElementById(“result”).innerHTML+=event.data + “<br>“;<br>  };</p>
<ul>
<li>创建一个新的 EventSource 对象（用于接收发送事件通知），然后规定发送更新的页面的 URL（本例中是 “demo_sse.php”）</li>
<li>每接收到一次更新，就会发生 onmessage 事件</li>
<li>当 onmessage 事件发生时，把已接收的数据推入 id 为 “result” 的元素中</li>
</ul>
<h2 id="八-WebSocket事件"><a href="#八-WebSocket事件" class="headerlink" title="八 . WebSocket事件"></a>八 . WebSocket事件</h2><h5 id="1-定义及优势"><a href="#1-定义及优势" class="headerlink" title="1.定义及优势"></a>1.定义及优势</h5><ul>
<li>WebSocket是HTML5开始提供的一种在单个TCP连接上进行全双工通讯协议（没有request和response的概念，两者地位完全相同，连接一旦建立就建立了持久性连接，双方可随时向对方发送数据）</li>
<li>在WebSocket API中，浏览器和服务器只需做一个握手的动作，两者间就会形成一条快速通道，故可直接进行数据传送。之前一直处于最开始的短轮询Polling阶段，即建立连接必须经过三次握手，连接才能算成功</li>
<li>WebSockcet协议本质上是一个基于tcp的协议。为建立一个WebSoccket连接，客户端首先要向服务器端发起一个HTTP请求，这个请求和通常的HTTP请求不同，包含了一些附加头信息，其中附加头信息“Upgrade：WebSocket”表明这是一个申请协议升级的HTTP请求，服务端解析这些附加头信息并产生应答信息返回给客户端，客户端和服务器端就建立起来，双方可通过这个自由通道的传递信息，且这个连接会一直存在直到两方中有一方断开连接</li>
</ul>
<h5 id="2-用法"><a href="#2-用法" class="headerlink" title="2.用法"></a>2.用法</h5><ul>
<li><p>通过send（）方法向服务器发送数据，并通过onmessage时间接收服务器返回的数据</p>
</li>
<li><p>创建WebSocket对象，var Socket=new WebSocket(url,[protocal]);</p>
<p>url:指定连接的URL</p>
<p>protocol:指定可接受的子协议</p>
</li>
<li><p>只读属性Socket.readyState表示连接状态</p>
<ul>
<li>0-连接尚未建立</li>
<li>1—连接已建立，可进行通信</li>
<li>2—连接正在关闭</li>
<li>3—连接已经关闭或者连接不能打开</li>
</ul>
</li>
<li><p>Socket.bufferedAmount:只读属性bufferedAmount已被send（)放入队列中等待传输，但还没有发出UTF-8文本字节数</p>
</li>
<li><p>示例代码：</p>
<!DOCTYPE HTML>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
    <title>数据传输</title>
      <meta charset="utf-8">
    <script type="text/javascript">
           function WebSocketTest()
            {if("WebSocket" in window){
                alert("您的浏览器支持WebSocket");
                var ws=new WebSocket("ws://localhost:9998/echo");
                ws.onopen=function(){
                    ws.send("森达message");
                    alert("messsage is sending");
                };
                ws.onmessage= function (evt){
                    var received_msg=evt.data;
                    alert("数据已经收");
                };
                ws.onclose=function(){
                    alert("the link is broken");
                };
            }
                else{
                    alert("your brouse is not supposed");
                }
            }
    </script>
</head>
<body>
<div id="sse">
     <a href="javascript:WebSocketTest()" target="_blank" rel="noopener">运行 WebSocket</a>
</div>
</body>
</html>


</li>
</ul>
<h2 id="九-代码规范"><a href="#九-代码规范" class="headerlink" title="九 . 代码规范"></a>九 . 代码规范</h2><h5 id="1-使用正确的生命文档类型"><a href="#1-使用正确的生命文档类型" class="headerlink" title="1.使用正确的生命文档类型"></a>1.使用正确的生命文档类型</h5><p>  文档类型生命位于html文档的第一行<!DOCTYPE html></p>
<h5 id="2-使用小写元素名"><a href="#2-使用小写元素名" class="headerlink" title="2.使用小写元素名"></a>2.使用小写元素名</h5><h5 id="3-关闭所有元素"><a href="#3-关闭所有元素" class="headerlink" title="3.关闭所有元素"></a>3.关闭所有元素</h5><h5 id="4-关闭空的-HTML-元素"><a href="#4-关闭空的-HTML-元素" class="headerlink" title="4.关闭空的 HTML 元素"></a>4.关闭空的 HTML 元素</h5><h5 id="5-属性值我们推荐使用引号"><a href="#5-属性值我们推荐使用引号" class="headerlink" title="5.属性值我们推荐使用引号:"></a>5.属性值我们推荐使用引号:</h5><ul>
<li><p>如果属性值含有空格需要使用引号。</p>
</li>
<li><p>混合风格不推荐的，建议统一风格。</p>
</li>
<li><p>属性值使用引号易于阅读。</p>
<h5 id="6-图片属性"><a href="#6-图片属性" class="headerlink" title="6.图片属性"></a>6.图片属性</h5><p>图片通常使用<strong>alt</strong> 属性。 在图片不能显示时，它能替代图片显示。</p>
<h5 id="7-空行和缩进"><a href="#7-空行和缩进" class="headerlink" title="7.空行和缩进"></a>7.空行和缩进</h5><p>不要无缘无故添加空行。</p>
<p>为每个逻辑功能块添加空行，这样更易于阅读。</p>
<p>缩进使用两个空格，不建议使用 TAB。</p>
<p>比较短的代码间不要使用不必要的空行和缩进。</p>
<h5 id="8-样式表"><a href="#8-样式表" class="headerlink" title="8.样式表"></a>8.样式表</h5></li>
<li><p>将左花括号与选择器放在同一行。</p>
</li>
<li><p>左花括号与选择器间添加以空格。</p>
</li>
<li><p>使用两个空格来缩进。</p>
</li>
<li><p>冒号与属性值之间添加已空格。</p>
</li>
<li><p>逗号和符号之后使用一个空格。</p>
</li>
<li><p>每个属性与值结尾都要使用符号。</p>
</li>
<li><p>只有属性值包含空格时才使用引号。</p>
</li>
<li><p>右花括号放在新的一行。</p>
</li>
<li><p>每行最多 80 个字符。</p>
</li>
</ul>
</html>
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-js中的闭包" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/09/14/js中的闭包/" class="article-date">
      <time datetime="2019-09-14T14:50:11.000Z" itemprop="datePublished">2019-09-14</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/09/14/js中的闭包/">js中的闭包</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h2 id="谈谈闭包"><a href="#谈谈闭包" class="headerlink" title="谈谈闭包"></a>谈谈闭包</h2><p>最开始我以为闭包就是一个函数里内嵌了一个内部函数，内部函数可以访问外部函数的私有变量，并使得其他函数可以访问到该私有变量，其实这只是一小部分，真正的闭包作用不止如此。</p>
<p>一个闭包是一个可以自己拥有独立的环境与变量的表达式（通常是函数，因为到ES6才有块级作用域的概念）。它有权访问另一个函数作用域中的变量的函数。</p>
<p>故主要作用归结为两个：</p>
<ol>
<li>可以在函数外部访问到函数内部的函数的局部变量。</li>
<li>让这些变量始终保存在内存中，不会随着函数的结束而自动销毁。</li>
</ol>
<h4 id="深层原因"><a href="#深层原因" class="headerlink" title="深层原因"></a>深层原因</h4><ol>
<li>我们都知道在js执行时一个函数时都会创建一个<strong>作用域函数</strong>，将函数中的局部变量（函数的形参也是局部变量（保存进去，伴随那些传入的函数变量一起被初始化。当函数执行完毕时，由于返回的函数使用了某个私有属性，，所以返回的函数中保存了一个指向该私有属性的引用，故不会被回收。</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function A(age) &#123;</span><br><span class="line">  var name = &apos;wind&apos;;</span><br><span class="line">  var sayHello = function() &#123;</span><br><span class="line">   console.log(&apos;hello, &apos;+name+&apos;, you are &apos;+age+&apos; years old!&apos;);</span><br><span class="line">  &#125;;</span><br><span class="line">  return sayHello;</span><br><span class="line">&#125;</span><br><span class="line">var wind = A(20);</span><br><span class="line">wind();  // hello, wind, you are 20 years old!</span><br><span class="line"></span><br><span class="line">其作用域函数对象为&#123; age:20, name:&apos;wind&apos;&#125;;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>每次调用一次外部函数就产生一个新的闭包，新的作用域，以前的闭包依旧存在互不影响。</li>
<li>同一个闭包会保留上一次的状态，当它被再次调用时会在上一次的基础上进行。</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function add()&#123;</span><br><span class="line">	var nnum = 42;</span><br><span class="line">	return function()&#123; console.log(num++); &#125;</span><br><span class="line">&#125;</span><br><span class="line">var a = A();</span><br><span class="line">a();	//42</span><br><span class="line">a();	//43</span><br><span class="line">var b = A();	//重新调用A(),形成新闭包，有了新的作用域对象</span><br><span class="line">b();	//42</span><br></pre></td></tr></table></figure>

<p>4、在外部函数中存在的多个函数 “ 同生共死 ”</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">var fun1, fun2, fun3;</span><br><span class="line">function A() &#123;</span><br><span class="line">  var num = 42;</span><br><span class="line">  fun1 = function() &#123; console.log(num); &#125;</span><br><span class="line">  fun2 = function() &#123; num++; &#125;</span><br><span class="line">  fun3 = function() &#123; num--; &#125;  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">A();</span><br><span class="line">fun1();   // 42</span><br><span class="line">fun2(); </span><br><span class="line">fun2(); </span><br><span class="line">fun1();    // 44</span><br><span class="line">fun3(); </span><br><span class="line">fun1();   //43</span><br><span class="line"></span><br><span class="line">var old = fun1;</span><br><span class="line"></span><br><span class="line">A();  </span><br><span class="line">fun1();   // 42</span><br><span class="line">old();   // 43   上一个闭包的fun1()</span><br></pre></td></tr></table></figure>

<p>三个函数被<strong>同时声明</strong>并且都可以对作用域对象的属性（局部变量）进行访问与操作。</p>
<p>由于函数不能有多个返回值，所以我用了全局变量。我们再次可以看出在我们第二次调用A()时产生了一个新的闭包。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">function buildArr(arr)&#123;</span><br><span class="line">	var result = [];</span><br><span class="line">	for(var i = 0; i &lt; arr.length; i++)&#123;</span><br><span class="line">		var item = &apos;item&apos; + i;</span><br><span class="line">		result.push(function()&#123; </span><br><span class="line">			console.log(item + &apos; &apos; + arr[i])</span><br><span class="line">			&#125;);</span><br><span class="line">	&#125;</span><br><span class="line">	return result;</span><br><span class="line">&#125;</span><br><span class="line">var fnlist = buildArr([1,2,3]);</span><br><span class="line">fnList[0]();	//item2 undefined</span><br><span class="line">fnList[1]();	//item2 undefined</span><br><span class="line">fnList[2]();	//item2 undefined</span><br></pre></td></tr></table></figure>

<p>怎么会这样呢？我们预想的三个输出应该是 item0 1，  item1 2，  item2 3。为什么结果却是返回的result数组里面存储了三个 item2 undefined ？</p>
<p>我们上文中提到过两点：</p>
<ol>
<li>闭包在返回的时候对作用域对象有一个引用。</li>
<li>在外部函数中存在的内部函数的“同生共死”。</li>
</ol>
<p>我们的for循环为外部函数创建了多个“同生共死”的内部函数，他们都共享一个环境，而当result数组返回时，所有内部函数都引用了同一个作用域对象：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var bArr = &#123;</span><br><span class="line">	item: &apos;item2&apos;,</span><br><span class="line">	i : 3,</span><br><span class="line">	arr: [1,2,3]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>为什么作用域对象是这样?就拿我们上面的例子来说，当循环全部结束时，作用域对象中的属性i正好是i++之后的3，而arr[3]是没有值的，所以为undefined。</p>
<p><strong>注意：</strong>在最后一次循环的时候即i = 2时，当i++，i = 3的循环条件不满足循环结束，此时的item的值已经被保存下来了，所以此时的arr[i]为arr[3],而item为item2.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">function buildArr(arr) &#123;</span><br><span class="line">    var result = [];</span><br><span class="line">      for (var i = 0; i &lt; arr.length; i++) &#123;</span><br><span class="line">          result.push( (function(n) &#123;</span><br><span class="line">             return function() &#123;</span><br><span class="line">                var item = &apos;item&apos; + n;</span><br><span class="line">             	console.log(item + &apos; &apos; + arr[n]);</span><br><span class="line">             &#125;</span><br><span class="line">          &#125;)(i));</span><br><span class="line">     &#125;</span><br><span class="line">     return result;</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"> var fnlist = buildArr([1,2,3]);</span><br><span class="line"> fnlist[0]();  //  item0 1</span><br><span class="line"> fnlist[1]();  //  item1 2</span><br></pre></td></tr></table></figure>

<p>我们可以用一个自执行函数将i绑定，这样i的每一个状态都会被存储，答案就和我们预期的一样了。 </p>
<p><strong>所以以后在使用闭包的时候遇到循环变量我们要习惯性的想到用自执行函数来绑定它。</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">function buildArr(arr)&#123;</span><br><span class="line">	var result = [];</span><br><span class="line">	for(let i = 0; i &lt;arr.length; i++)&#123;</span><br><span class="line">		let item = &apos;item&apos; + i;</span><br><span class="line">		result.push(function()&#123;console.log(item + &apos;&apos; + arr[i])&#125;);</span><br><span class="line">	&#125;</span><br><span class="line">	return result;</span><br><span class="line">&#125;</span><br><span class="line">var fnlist = buildArr([1,2,3]);</span><br><span class="line">fnlist[0](); 	//item0   1</span><br></pre></td></tr></table></figure>

<p>使用let代替，主要是利用let会创建块级作用域的特性。</p>
<h6 id="闭包的用途"><a href="#闭包的用途" class="headerlink" title="闭包的用途"></a>闭包的用途</h6><ol>
<li>读取函数内部的变量。</li>
<li>让这些变量的值始终保持在内存中，不会在函数被调用后被自动清除。</li>
<li>方便调用上下文的局部变量，利于代码的封装。</li>
</ol>
<h6 id="闭包应用场景"><a href="#闭包应用场景" class="headerlink" title="闭包应用场景"></a>闭包应用场景</h6><ol>
<li>setTimeout</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">//原生的setTimeout传递的第一个函数不能带参数</span><br><span class="line">  setTimeout(function(param)&#123;</span><br><span class="line">      alert(param)</span><br><span class="line">  &#125;,1000)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  //通过闭包可以实现传参效果</span><br><span class="line">  function func(param)&#123;</span><br><span class="line">      return function()&#123;</span><br><span class="line">          alert(param)</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  var f1 = func(1);</span><br><span class="line">  setTimeout(f1,1000);</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>作为回调函数</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function changeSize(size)&#123;</span><br><span class="line">       return function()&#123;</span><br><span class="line">           document.body.style.fontSize = size + &apos;px&apos;;</span><br><span class="line">       &#125;;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>封装变量</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span><br><span class="line">    &lt;title&gt;闭包模拟私有方法&lt;/title&gt;</span><br><span class="line">    &lt;link rel=&quot;stylesheet&quot; href=&quot;&quot;&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    //用闭包定义能访问私有函数和私有变量的公有函数。</span><br><span class="line">    var counter = (function()&#123;</span><br><span class="line">        var privateCounter = 0; //私有变量</span><br><span class="line">        function change(val)&#123;</span><br><span class="line">            privateCounter += val;</span><br><span class="line">        &#125;</span><br><span class="line">        return &#123;</span><br><span class="line">            increment:function()&#123;   //三个闭包共享一个词法环境</span><br><span class="line">                change(1);</span><br><span class="line">            &#125;,</span><br><span class="line">            decrement:function()&#123;</span><br><span class="line">                change(-1);</span><br><span class="line">            &#125;,</span><br><span class="line">            value:function()&#123;</span><br><span class="line">                return privateCounter;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;)();</span><br><span class="line"></span><br><span class="line">    console.log(counter.value());//0</span><br><span class="line">    counter.increment();</span><br><span class="line">    counter.increment();//2</span><br><span class="line">    //共享的环境创建在一个匿名函数体内，立即执行。</span><br><span class="line">    //环境中有一个局部变量一个局部函数，通过匿名函数返回的对象的三个公共函数访问。</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>为节点循环绑定click事件</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span><br><span class="line">    &lt;title&gt;&lt;/title&gt;</span><br><span class="line">    &lt;link rel=&quot;stylesheet&quot; href=&quot;&quot;&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">    &lt;p id=&quot;info&quot;&gt;123&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;E-mail: &lt;input type=&quot;text&quot; id=&quot;email&quot; name=&quot;email&quot;&gt;&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;Name: &lt;input type=&quot;text&quot; id=&quot;name&quot; name=&quot;name&quot;&gt;&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;Age: &lt;input type=&quot;text&quot; id=&quot;age&quot; name=&quot;age&quot;&gt;&lt;/p&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    function showContent(content)&#123;</span><br><span class="line">        document.getElementById(&apos;info&apos;).innerHTML = content;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    function setContent()&#123;</span><br><span class="line">        var infoArr = [</span><br><span class="line">            &#123;&apos;id&apos;:&apos;email&apos;,&apos;content&apos;:&apos;your email address&apos;&#125;,</span><br><span class="line">            &#123;&apos;id&apos;:&apos;name&apos;,&apos;content&apos;:&apos;your name&apos;&#125;,</span><br><span class="line">            &#123;&apos;id&apos;:&apos;age&apos;,&apos;content&apos;:&apos;your age&apos;&#125;</span><br><span class="line">        ];</span><br><span class="line">        for (var i = 0; i &lt; infoArr.length; i++) &#123;</span><br><span class="line">            var item = infoArr[i];</span><br><span class="line">            document.getElementById(item.id).onfocus = function()&#123;</span><br><span class="line">                showContent(item.content)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    setContent()</span><br><span class="line">    //循环中创建了三个闭包，他们使用了相同的词法环境item，item.content是变化的变量</span><br><span class="line">    //当onfocus执行时，item.content才确定，此时循环已经结束，三个闭包共享的item已经指向数组最后一项。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 解决方法1     通过函数工厂，则函数为每一个回调都创建一个新的词法环境</span><br><span class="line">     */</span><br><span class="line">    function showContent(content)&#123;</span><br><span class="line">        document.getElementById(&apos;info&apos;).innerHTML = content;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    function callBack(content)&#123;</span><br><span class="line">        return function()&#123;</span><br><span class="line">            showContent(content)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    function setContent()&#123;</span><br><span class="line">        var infoArr = [</span><br><span class="line">            &#123;&apos;id&apos;:&apos;email&apos;,&apos;content&apos;:&apos;your email address&apos;&#125;,</span><br><span class="line">            &#123;&apos;id&apos;:&apos;name&apos;,&apos;content&apos;:&apos;your name&apos;&#125;,</span><br><span class="line">            &#123;&apos;id&apos;:&apos;age&apos;,&apos;content&apos;:&apos;your age&apos;&#125;</span><br><span class="line">        ];</span><br><span class="line">        for (var i = 0; i &lt; infoArr.length; i++) &#123;</span><br><span class="line">            var item = infoArr[i];</span><br><span class="line">            document.getElementById(item.id).onfocus = callBack(item.content)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    setContent()</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 解决方法2        绑定事件放在立即执行函数中</span><br><span class="line">     */</span><br><span class="line">    function showContent(content)&#123;</span><br><span class="line">        document.getElementById(&apos;info&apos;).innerHTML = content;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    function setContent()&#123;</span><br><span class="line">        var infoArr = [</span><br><span class="line">            &#123;&apos;id&apos;:&apos;email&apos;,&apos;content&apos;:&apos;your email address&apos;&#125;,</span><br><span class="line">            &#123;&apos;id&apos;:&apos;name&apos;,&apos;content&apos;:&apos;your name&apos;&#125;,</span><br><span class="line">            &#123;&apos;id&apos;:&apos;age&apos;,&apos;content&apos;:&apos;your age&apos;&#125;</span><br><span class="line">        ];</span><br><span class="line">        for (var i = 0; i &lt; infoArr.length; i++) &#123;</span><br><span class="line">            (function()&#123;</span><br><span class="line">                var item = infoArr[i];</span><br><span class="line">                document.getElementById(item.id).onfocus = function()&#123;</span><br><span class="line">                    showContent(item.content)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)()//放立即执行函数，立即绑定，用每次的值绑定到事件上，而不是循环结束的值</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    setContent()</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 解决方案3        用ES6声明，避免声明提前，作用域只在当前块内</span><br><span class="line">     */</span><br><span class="line">    function showContent(content)&#123;</span><br><span class="line">        document.getElementById(&apos;info&apos;).innerHTML = content;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    function setContent()&#123;</span><br><span class="line">        var infoArr = [</span><br><span class="line">            &#123;&apos;id&apos;:&apos;email&apos;,&apos;content&apos;:&apos;your email address&apos;&#125;,</span><br><span class="line">            &#123;&apos;id&apos;:&apos;name&apos;,&apos;content&apos;:&apos;your name&apos;&#125;,</span><br><span class="line">            &#123;&apos;id&apos;:&apos;age&apos;,&apos;content&apos;:&apos;your age&apos;&#125;</span><br><span class="line">        ];</span><br><span class="line">        for (var i = 0; i &lt; infoArr.length; i++) &#123;</span><br><span class="line">            let item = infoArr[i];      //限制作用域只在当前块内</span><br><span class="line">            document.getElementById(item.id).onfocus = function()&#123;</span><br><span class="line">                showContent(item.content)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    setContent()</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>推荐博文：<a href="https://blog.csdn.net/qq_36276528/article/details/70049825" target="_blank" rel="noopener">https://blog.csdn.net/qq_36276528/article/details/70049825</a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i> 
                2016-2020 陈楚吟
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="快速、简洁且高效的博客框架">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="简而不减 Hexo 双栏博客主题  v3.5">Yelee</a> by MOxFIVE <i class="fa fa-heart animated infinite pulse"></i>
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" title="本站到访数"><i class="fa fa-user" aria-hidden="true"></i><span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>| </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit"  title="本页阅读量"><i class="fa fa-eye animated infinite pulse" aria-hidden="true"></i><span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>
    </div>
    
<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script>

    <script>
        $(document).ready(function() {
            var iPad = window.navigator.userAgent.indexOf('iPad');
            if (iPad > -1 || $(".left-col").css("display") === "none") {
                var bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
                $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
            }
            else {
                var backgroundnum = 5;
                var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
                $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
            }
        })
    </script>





<div class="scroll" id="scroll">
    <a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="查看评论"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    // Open in New Window
    
        var oOpenInNew = {
            
            
            
            
            
            
             archives: ".archive-article-title", 
             miniArchives: "a.post-list-link", 
            
             friends: "#js-friends a", 
             socail: ".social a" 
        }
        for (var x in oOpenInNew) {
            $(oOpenInNew[x]).attr("target", "_blank");
        }
    
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>